<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<div class="container" id="app">
  <p class="ml-3">
    USD Last updated at: <%= last_update %>
  </p> 
  <form>
    <div class="form-row m-2">
      <div class="col">
        <input class="form-control" v-model="amount" placeholder="Enter sum" @input="calculate()">
      </div>
      <div class="col">
        <select class="form-control" ref="from" @change="changeSelectedFrom(); calculate()">
          <option v-for="rate, currency in currencies" :value="currency.value" :key="currency.key"
                  :selected="currency=='USD'">
            {{ currency }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-row m-2">
      <div class="col">
        <input class="form-control" id="currencyTo" placeholder="Result" ref="result" @change="calculate()">
      </div>
      <div class="col">
        <select class="form-control" ref="to" @change="calculate()">
          <option v-for="rate, currency in currencies" :value="currency.value" :key="currency.key">
            {{ currency }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <button class="btn btn-warning ml-3" @click="refreshRate($event)">Update rates for {{ selectedFrom }} as base</button>
    </div>
  </form>
</div>

<script src="javascript/index.js"></script>
<link rel="stylesheet" href="css/index.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">